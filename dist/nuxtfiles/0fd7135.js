(window.webpackJsonp=window.webpackJsonp||[]).push([[40,24],{734:function(t,e,o){"use strict";var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let r;const c=new Uint8Array(16);function d(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(c)}const l=[];for(let i=0;i<256;++i)l.push((i+256).toString(16).slice(1));function f(t,e=0){return(l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]).toLowerCase()}e.a=function(t,e,o){if(n.randomUUID&&!e&&!t)return n.randomUUID();const r=(t=t||{}).random||(t.rng||d)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){o=o||0;for(let i=0;i<16;++i)e[o+i]=r[i];return e}return f(r)}},931:function(t,e,o){"use strict";o.r(e);o(16),o(15),o(22),o(9),o(25),o(21),o(26);var n=o(7),r=o(6),c=(o(40),o(123),o(162),o(52),o(734)),d=o(17);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={props:{value:{type:Boolean,default:!0},notes:{type:Array,default:[]},productId:{type:String,default:""},self:{type:Boolean,default:!1},count:{type:Number,default:0}},data:function(){return{loading:!1,form:{notes:[],update_notes:[]}}},watch:{"$props.notes":{handler:function(){this.form.notes=this.notes},deep:!0,immediate:!0}},computed:f({},Object(d.c)("cart",["getItems","getItemNotes"])),methods:f(f({},Object(d.b)("cart",["setItemNotes"])),{},{close:function(){this.$emit("close")},i18n_me:function(t,e){return"en"===this.$i18n.locale?e:t},addFile:function(t){this.self&&this.form.notes.push({file:t.target.files[0],id:Object(c.a)(),type:"new"}),this.$emit("add-note",t.target.files[0])},updateNote:function(t){var e=this.getItemNotes;e[this.getItemNotes.findIndex((function(e){return e.id===t.id}))]=t,this.setItemNotes({itemNotes:e,productId:this.productId})},reset:function(){this.form={notes:[],update_notes:[]}},addToCart:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t.form.notes),console.log(t.form.update_notes),t.loading=!0,e.next=6,t.$store.dispatch("cart/add",{product_id:t.productId,notes:t.form.notes.map((function(t){return t.note})),update_notes:t.getItemNotes.map((function(t){return t.id})),quantity:0,special_request:""});case 6:t.$toast.success("Item Added to Your Cart successfully"),t.$emit("close"),t.reset(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t.$toast.error(e.t0.message);case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})))()},updateProduct:function(t){this.form.notes[t]||(this.form.notes[t]=""),this.$emit("add-note",this.form.notes[t]),console.log(this.form.notes)}})},v=o(8),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{value:t.value,fullscreen:t.$vuetify.breakpoint.mobile,scrim:!1,width:t.$vuetify.breakpoint.mobile?"":800,transition:"dialog-bottom-transition"},on:{"click:outside":function(e){return t.$emit("close")}}},[e("v-card",{class:t.$vuetify.breakpoint.mobile?"":"px-5 py-5"},[e("v-toolbar",{attrs:{elevation:"0"}},[e("v-btn",{staticClass:"no-width",attrs:{elevation:"3"},on:{click:function(e){return t.$emit("close")}}},[e("v-icon",{attrs:{small:""}},[t._v(t._s(t.i18n_me("mdi-arrow-right","mdi-arrow-left")))])],1),t._v(" "),e("span",{staticClass:"px-5"},[t._v("\n        "+t._s(t.$t("products.add_note"))+"\n      ")])],1),t._v(" "),e("v-card-text",[t._l(t.count,(function(o){return t.self?t._e():e("v-row",{key:o,attrs:{cols:"12",sm:"6"}},[e("v-col",[e("span",[t._v("Item No ("+t._s(o)+")")]),t._v(" "),e("v-text-field",{attrs:{outlined:"",clearable:"",value:t.form.notes[o-1]},on:{input:function(e){return t.updateProduct(o-1)}},model:{value:t.notes[o-1],callback:function(e){t.$set(t.notes,o-1,e)},expression:"notes[index - 1]"}})],1)],1)})),t._v(" "),t._l(t.getItemNotes,(function(o){return t.self?e("v-row",{key:o.id,attrs:{cols:"12",sm:"6"}},[e("v-col",[e("productNote",{attrs:{note:o},on:{"update-note":t.updateNote}})],1)],1):t._e()})),t._v(" "),t.self?e("v-card-actions",{staticClass:"mt-5"},[e("v-btn",{staticClass:"white--text",attrs:{loading:t.loading,block:"",elevation:"1",rounded:"",color:"#65382c"},on:{click:t.addToCart}},[t._v(t._s(t.$t("common.update")))])],1):t._e()],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);