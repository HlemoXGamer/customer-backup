(window.webpackJsonp=window.webpackJsonp||[]).push([[59,30],{767:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"f",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return d})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return m})),r.d(t,"g",(function(){return h}));var n=r(5);function o(){return n.a.get("/customer/addresses")}function c(e){return n.a.get("/customer/addresses/"+e)}function l(data){return n.a.post("/customer/addresses",data)}function d(data){return n.a.post("customer/set/default/address/",data)}function f(){return n.a.get("/customer/get-default-location")}function m(data){return n.a.delete("customer/addresses/".concat(data))}function h(e,data){return n.a.put("/customer/addresses/"+e,data)}},768:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(5);function o(e){return n.a.get("/areas",{params:e})}},787:function(e,t,r){"use strict";r.r(t);var n=r(7),o=(r(43),r(5));var c={data:function(){return{activeTab:0,banners:[]}},created:function(){this.getHomeBanner()},methods:{getHomeBanner:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.a.get("/banners").then((function(data){e.banners=data.data.banners}));case 1:case"end":return t.stop()}}),t)})))()}}},l=r(8),component=Object(l.a)(c,(function(){var e=this,t=e._self._c;return t("v-card",{attrs:{rounded:"lg"}},[t("v-carousel",{attrs:{cycle:"","hide-delimiter-background":"","show-arrows-on-hover":"",height:e.$vuetify.breakpoint.mobile?200:500}},e._l(e.banners,(function(r,n){return t("v-carousel-item",{key:n},[t("v-img",{attrs:{cover:"",src:r.image,"min-height":e.$vuetify.breakpoint.mobile?"200px":"500px","min-width":e.$vuetify.breakpoint.mobile?"100%":"700px"}})],1)})),1)],1)}),[],!1,null,null,null);t.default=component.exports},826:function(e,t,r){var content=r(876);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(2).default)("1c8bb54c",content,!0,{sourceMap:!1})},875:function(e,t,r){"use strict";r(826)},876:function(e,t,r){var n=r(1)((function(i){return i[1]}));n.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Readex+Pro&display=swap);"]),n.push([e.i,".isPicked[data-v-2025fe81]{background-color:#ecbaa8;color:#65382c!important;font-weight:700}[data-v-2025fe81] .v-slide-group__prev{display:none!important}",""]),n.locals={},e.exports=n},942:function(e,t,r){"use strict";r.r(t);r(18),r(51),r(26),r(19),r(27),r(40),r(53),r(37),r(54),r(38);var n=r(16),o=r(6),c=r(7),l=(r(43),r(17),r(28),r(64),r(72),r(22),r(9),r(35),r(39),r(31),r(342),r(50),r(133),r(80),r(36),r(110),r(787)),d=r(767),f=r(768),m=r(5);var h,v=r(20),y=r(105),_=r(179);function x(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={components:{Banner:l.default},data:function(){return{currentArea:null,titles:{0:this.$t("location.select_your_area"),1:this.$t("common.choose_service")},shipping_type:this.$store.state.checkout.type,order_type:"",currentTab:"areas",areas:[],addresses:[],currentAddress:null,loading:!1,theAddress:null,center:{lat:0,lng:0},savedAddrMapDialog:!1,gmapDialog:!0,currentMapAddress:"",selectedBranch:null,timeSlots:[]}},methods:(h={confirm:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r,area,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("area"!=(r=localStorage.getItem("default_location"))){t.next=7;break}return area=JSON.parse(localStorage.getItem("default_area")),t.next=5,e.$store.dispatch("cart/get",{branch:area.id});case 5:t.next=11;break;case 7:if("address"!=r){t.next=11;break}return n=JSON.parse(localStorage.getItem("default_address")),t.next=11,e.$store.dispatch("cart/get",{branch:n.area_id});case 11:e.$router.replace(e.localePath("/categories"));case 12:case"end":return t.stop()}}),t)})))()},fetchTimeSlots:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o=e,m.a.get("/time-slot?area=".concat(o));case 2:n=r.sent,t.timeSlots=n.data,localStorage.setItem("timeSlots",JSON.stringify(t.timeSlots));case 5:case"end":return r.stop()}var o}),r)})))()},isToggle:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(setTimeout((function(){t.shipping_type=t.$store.state.checkout.type,t.order_type=localStorage.getItem("order_type")}),100),null===t.id||void 0===t.id){e.next=4;break}return e.next=4,Object(y.e)(t.id,t.$auth.loggedIn);case 4:case"end":return e.stop()}}),e)})))()},onSetAddress:function(e,t){this.theAddress=e,this.center=t},addDaysToDate:function(e,t){this.days=[];for(var i=0;i<t;i++){var r=new Date(e);r.setDate(e.getDate()+i),this.days.push(r.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"2-digit"}))}},search:function(){var e=this;null!==this.searchTerm?this.filteredAreas=this.areas.filter((function(area){return String(area.name).toLowerCase().includes(String(e.searchTerm).toLowerCase())})):this.filteredAreas=this.areas},getAreas:function(){var e=this;this.loading=!0,Object(f.a)().then((function(t){var data=t.data;e.areas=e.sortAreas(data,e.$i18n.locale,"name_".concat(e.$i18n.locale))})).finally((function(){e.loading=!1}))},sortAreas:function(e,t,r){return e.sort((function(a,b){return a[r].localeCompare(b[r],t)}))}},Object(o.a)(h,"sortAreas",(function(e,t,r){return e.sort((function(a,b){return a[r].localeCompare(b[r],t)}))})),Object(o.a)(h,"getAddresses",(function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.b)();case 2:r=t.sent,data=r.data,e.addresses=data.map(e.transformAddress);case 5:case"end":return t.stop()}}),t)})))()})),Object(o.a)(h,"transformAddress",(function(address){var e=[];return address.street_name&&e.push(this.$t("profile.addresses.street_name")+" "+address.street_name),address.floor&&e.push(this.$t("profile.addresses.floor")+" "+address.floor),address.apartment&&e.push(this.$t("profile.addresses.apartment_no")+" "+address.apartment),address.block_no&&e.push(this.$t("profile.addresses.block_no")+" "+address.block_no),address.building_no&&e.push(this.$t("profile.addresses.building_number")+" "+address.block_no),k(k({},address),{},{address_info:e.join(", ")})})),Object(o.a)(h,"setDefaultAddress",(function(address){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,localStorage.setItem("default_location","address"),localStorage.setItem("default_address",JSON.stringify(address)),t.next=5,Object(d.e)({address_id:address.id});case 5:e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()})),Object(o.a)(h,"setDefaultBranch",(function(area){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=area.branches,localStorage.setItem("default_location","area"),localStorage.setItem("default_area",JSON.stringify(area)),!(r.length>0)){t.next=17;break}if(!e.$auth.loggedIn){t.next=10;break}return n=r[0].id,t.next=8,Object(d.e)({branch_id:n,area_id:area.id});case 8:t.next=15;break;case 10:localStorage.setItem("guest_branch",JSON.parse(localStorage.getItem("default_area")).branches[0].id),localStorage.setItem("guest_area_id",JSON.parse(localStorage.getItem("default_area")).id),localStorage.setItem("guest_city_id",JSON.parse(localStorage.getItem("default_area")).branches[0].city_id),localStorage.setItem("guest_area_name",JSON.parse(localStorage.getItem("default_area")).name),localStorage.setItem("guest_city_name","Kuwait");case 15:t.next=18;break;case 17:e.$toast.error(e.$t("location.no_branches"));case 18:case"end":return t.stop()}}),t)})))()})),Object(o.a)(h,"checkLatLng",(function(address){!address||address.lat||address.lng||(this.currentMapAddress=address,this.savedAddrMapDialog=!0)})),Object(o.a)(h,"updateLatLng",(function(address,e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return localStorage.setItem("shipping_address",JSON.stringify(k(k({},address),{},{lat:e.lat,lng:e.lng}))),r.next=3,Object(d.g)(address.id,k(k({},address),{},{lat:e.lat,lng:e.lng}));case 3:return r.next=5,t.getAddresses();case 5:t.setDefaultAddress(address),t.$router.push({path:"/products"}),t.savedAddrMapDialog=!1,t.$toast.success("Address Updated SuccessFully");case 9:case"end":return r.stop()}}),r)})))()})),h),watch:{currentTab:function(e,t){"areas"==e?this.currentAddress=null:"addresses"==e&&(this.currentArea=null)},currentLocale:function(e,t){this.areas=this.sortAreas(this.areas,e,"name_".concat(e))},currentArea:function(e,t){var r=this;null!==e&&""!==e&&void 0!==e&&(this.setDefaultBranch(this.areas.find((function(area){return area.id==r.currentArea.id}))),this.fetchTimeSlots(e.id)),this.selectedBranch=this.areas.find((function(area){return area.id==r.currentArea.id})).branches[0],console.log(this.selectedBranch)},shipping_type:function(e,t){void 0!==e&&(this.$store.commit("checkout/SET_TYPE",e),localStorage.setItem("shipping_type",e))},order_type:function(e,t){void 0!==e&&localStorage.setItem("order_type",e)},type:function(e,t){this.shipping_type=e},currentAddress:function(e,t){this.setDefaultAddress(this.addresses[e])}},computed:k(k(k(k({currentLocale:function(){return this.$i18n.locale}},Object(v.d)("cart",["id"])),Object(v.d)("checkout",["type"])),Object(v.d)("timer",["time"])),{},{isDeliveryNowDimmed:function(){console.log(this.time);var e=new Date(this.time),t=60*e.getHours()+e.getMinutes();return t>=1185||t<=479},isLaterTodayDimmed:function(){var e=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.default)().timer;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=new Date(e());console.log(t);var r=60*t.getHours()+t.getMinutes();return r>=1185&&r<=1439},isButtonDimmed:function(){var e=this;return function(t){if(e.selectedBranch&&e.selectedBranch.order_types){var r=e.selectedBranch.order_types.find((function(e){return e.name===t}));if(["Schedule","Pre Order","ASAP"].includes(t))return!r||1!==r.status}return!0}},isButtonDimmedOrderType:function(){var e=this,t=new Date,r=60*t.getHours()+t.getMinutes();return function(t){if(e.selectedBranch&&e.selectedBranch.delivery_types){var n=e.selectedBranch.delivery_types.find((function(e){return e.name===t}));if(e.timeSlots&&n&&1===n.status){if("Pick Up"===t)return!1;if("Delivery"===t){var o,c=(new Date).toISOString().slice(0,10),l=e.timeSlots.filter((function(slot){return slot.day===c})),d=x(l);try{for(d.s();!(o=d.n()).done;){var slot=o.value,f=e.convertTimeToMinutes(slot.from),m=e.convertTimeToMinutes(slot.to);if(r>=f&&r<=m)return 0===slot.status}}catch(e){d.e(e)}finally{d.f()}}}return!1}return!0}},convertTimeToMinutes:function(){return function(time){var e=time.split(":").map(Number),t=Object(n.a)(e,2);return 60*t[0]+t[1]}}}),mounted:function(){var e=this;setTimeout((function(){e.$store.commit("checkout/SET_TYPE",""),localStorage.removeItem("default_location"),localStorage.removeItem("default_address"),localStorage.removeItem("default_area"),localStorage.removeItem("shipping_type"),localStorage.removeItem("order_type")}),100),this.getAreas(),this.currentHour=(new Date).getHours(),this.$auth.loggedIn&&this.getAddresses()}},A=O,j=(r(875),r(8)),component=Object(j.a)(A,(function(){var e=this,t=e._self._c;return t("v-row",{staticClass:"pb-5",attrs:{"no-gutters":""}},[t("v-col",{attrs:{cols:"12"}},[t("Banner")],1),e._v(" "),t("v-col",{staticClass:"py-0 px-0 mx-0 mb-0 mt-4"},[t("v-tabs",{staticClass:"align-center justify-start d-flex mt-6",staticStyle:{width:"100%"},attrs:{color:"#65382c"},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[t("v-tab",{staticClass:"font-weight-bold",staticStyle:{width:"200px"},attrs:{value:"areas"}},[e._v("\n        "+e._s(e.$t("location.select_your_area"))+"\n      ")]),e._v(" "),t("v-tab",{staticClass:"font-weight-bold",staticStyle:{width:"200px"},attrs:{value:"addresses",disabled:!e.$auth.loggedIn}},[e._v("\n        "+e._s(e.$t("location.saved_addresses"))+"\n      ")])],1),e._v(" "),t("v-tabs-items",{model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[t("v-tab-item",{key:"areas"},[t("v-col",{staticClass:"mx-0 mt-5 px-0 py-0"},[t("v-combobox",{staticClass:"rounded-lg",attrs:{loading:e.loading,items:e.areas,"item-text":"name_".concat(e.$i18n.locale),"item-value":"id",height:"57",outlined:"",flat:"",placeholder:"Pick an Area",color:"#65382c"},model:{value:e.currentArea,callback:function(t){e.currentArea=t},expression:"currentArea"}})],1)],1),e._v(" "),t("v-tab-item",{key:"addresses"},[e.addresses.length?e._e():t("p",{staticClass:"font-primary font-weight-bold text-center my-5",staticStyle:{"font-size":"20px"}},[e._v("\n          "+e._s(e.$t("common.no_addresses"))+"\n        ")]),e._v(" "),t("v-item-group",{staticClass:"mt-4",model:{value:e.currentAddress,callback:function(t){e.currentAddress=t},expression:"currentAddress"}},e._l(e.addresses,(function(address){return t("v-col",{key:null==address?void 0:address.id,attrs:{cols:"12"}},[t("v-item",{scopedSlots:e._u([{key:"default",fn:function(r){var n=r.active,o=r.toggle;return[t("v-card",{staticClass:"d-flex align-center",attrs:{outlined:"",rounded:"lg","min-height":"150",color:null!==e.currentAddress&&void 0!==e.currentAddress&&e.addresses[e.currentAddress].id==address.id?"#65382c":""},on:{click:function(e){return o()}}},[t("v-card-text",[t("v-scroll-y-transition",[t("div",{class:"flex-grow-1 ".concat(n?"white--text":"black--text")},[t("p",[e._v(e._s(null==address?void 0:address.address))]),e._v(" "),t("p",[e._v("\n                        "+e._s(null==address?void 0:address.country_name)+"\n                        "+e._s(null==address?void 0:address.city_name)+"\n                        "+e._s(null==address?void 0:address.area_name)+"\n                      ")]),e._v(" "),t("p",[e._v(e._s(null==address?void 0:address.address_info))]),e._v(" "),t("p",[e._v(e._s(null==address?void 0:address.description))])])])],1)],1)]}}],null,!0)})],1)})),1)],1)],1),e._v(" "),t("v-row",{staticClass:"justify-center align-center py-2 flex-wrap mt-3",attrs:{"no-gutters":""}},[t("v-col",{attrs:{cols:"12"}},[t("p",{staticClass:"text-h5 font-primary text-center font-weight-bold mx-auto mb-0"},[e._v(e._s(e.$t("common.choose_service")))]),e._v(" "),t("v-btn-toggle",{staticClass:"rounded-lg py-0 d-flex align-center justify-center flex-wrap mt-6",attrs:{dense:"","active-class":"isPicked"},model:{value:e.shipping_type,callback:function(t){e.shipping_type=t},expression:"shipping_type"}},[t("v-btn",{staticClass:"py-0 my-1 me-3 px-4 rounded-lg font-weight-bold",staticStyle:{"text-transform":"unset","border-width":"2px"},attrs:{outlined:"","x-large":"",value:"asap",disabled:e.isDeliveryNowDimmed||e.isButtonDimmed("ASAP")},on:{click:function(t){return e.isToggle("asap")}}},[e._v("\n            Deliver now\n          ")]),e._v(" "),t("v-btn",{staticClass:"ms-3 my-1 rounded-lg px-4 font-weight-bold",staticStyle:{"text-transform":"unset","border-width":"2px"},attrs:{"x-large":"",outlined:"",value:"same-day",disabled:e.isLaterTodayDimmed||e.isButtonDimmed("Schedule")},on:{click:function(t){return e.isToggle("same-day")}}},[e._v("\n            Later Today\n          ")]),e._v(" "),t("v-btn",{staticClass:"ms-3 my-1 rounded-lg px-4 font-weight-bold",staticStyle:{"text-transform":"unset","border-width":"2px"},attrs:{"x-large":"",outlined:"",value:"pre-order",disabled:e.isButtonDimmed("Pre Order")},on:{click:function(t){return e.isToggle("pre-order")}}},[e._v("\n            Pre Order\n          ")])],1)],1),e._v(" "),e.shipping_type?t("v-col",{attrs:{cols:"12"}},[t("v-btn-toggle",{staticClass:"rounded-lg py-0 d-flex align-center justify-center flex-wrap mt-6",attrs:{dense:"","active-class":"isPicked"},model:{value:e.order_type,callback:function(t){e.order_type=t},expression:"order_type"}},[t("v-btn",{staticClass:"ms-3 my-1 rounded-lg px-4 font-weight-bold",staticStyle:{"text-transform":"unset","border-width":"2px"},attrs:{"x-large":"",outlined:"",value:"asap",disabled:e.isButtonDimmedOrderType("Delivery")},on:{click:function(t){return e.isToggle("asap")}}},[e._v("\n            Delivery\n          ")]),e._v(" "),t("v-btn",{staticClass:"ms-3 my-1 rounded-lg px-4 font-weight-bold",staticStyle:{"text-transform":"unset","border-width":"2px"},attrs:{"x-large":"",outlined:"",value:"pick-up",disabled:e.isButtonDimmedOrderType("Pick Up")},on:{click:function(t){return e.isToggle("pick-up")}}},[e._v("\n            Pick up\n          ")])],1)],1):e._e()],1),e._v(" "),t("v-row",{staticClass:"align-center justify-center mt-12",attrs:{"no-gutters":""}},[t("v-btn",{staticClass:"rounded-lg white--text",style:{flex:e.$vuetify.breakpoint.mobile?1:.5},attrs:{disabled:""==e.shipping_type||""==e.order_type||!e.currentArea&&(null==e.currentAddress||null==e.currentAddress),height:"57",elevation:"0",block:e.$vuetify.breakpoint.xs,color:"#65382c",large:""},on:{click:function(t){return e.confirm()}}},[e._v("\n        "+e._s(e.$t("checkout.shipping.continue_shopping"))+"\n      ")])],1)],1)],1)}),[],!1,null,"2025fe81",null);t.default=component.exports}}]);