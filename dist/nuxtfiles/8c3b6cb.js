(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{726:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"f",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return d})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return h})),r.d(t,"g",(function(){return m}));var n=r(8);function o(){return n.a.get("/customer/addresses")}function c(e){return n.a.get("/customer/addresses/"+e)}function l(data){return n.a.post("/customer/addresses",data)}function d(data){return n.a.post("customer/set/default/address/",data)}function f(){return n.a.get("/customer/get-default-location")}function h(data){return n.a.delete("customer/addresses/".concat(data))}function m(e,data){return n.a.put("/customer/addresses/"+e,data)}},727:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(8);function o(e){return n.a.get("/areas",{params:e})}},774:function(e,t,r){var content=r(827);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(2).default)("4c13cd3d",content,!0,{sourceMap:!1})},826:function(e,t,r){"use strict";r(774)},827:function(e,t,r){var n=r(1)((function(i){return i[1]}));n.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Readex+Pro&display=swap);"]),n.push([e.i,".isPicked[data-v-332fb5de]{background-color:#ecbaa8;color:#65382c!important}",""]),n.locals={},e.exports=n},894:function(e,t,r){"use strict";r.r(t);r(29),r(164);var n=r(7),o=(r(39),r(74),r(21),r(9),r(34),r(40),r(28),r(16),r(63),r(165),r(727)),c=r(726),l={data:function(){return{toggle:"deliver_now",currentDay:(new Date).getDate(),currentHour:"",currentMinute:"",current:[],days:[],hours:[],minutes:[],searchTerm:"",areas:[],filteredAreas:[]}},methods:{isToggle:function(e){var t=this;setTimeout((function(){null==t.toggle&&(t.toggle=e)}),100)},addDaysToDate:function(e,t){this.days=[];for(var i=0;i<t;i++){var r=new Date(e);r.setDate(e.getDate()+i),this.days.push(r.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"2-digit"}))}},search:function(){var e=this;null!==this.searchTerm?this.filteredAreas=this.areas.filter((function(area){return String(area.name).toLowerCase().includes(String(e.searchTerm).toLowerCase())})):this.filteredAreas=this.areas},getAreas:function(){var e=this;Object(o.a)().then((function(t){var data=t.data;e.areas=data,e.filteredAreas=data}))},isDateTodayWithoutYear:function(e){var t=new Date,r=t.getDate(),n=t.toLocaleString("default",{weekday:"short"});return e.includes(r)&&e.includes(n)},updateTime:function(){},getHoursToEndOfDay:function(e){var t,r;e?(r=1,t=8):(t=(new Date).getHours(),r=(new Date).getMinutes());for(var n=t<12,o=[],i=t;i<20;i++){var c=i%12||12;o.push(c),n=!n}if(t<=20)for(var l=r;l<60;l++)this.minutes.push("".concat(1===String(l).length?"0"+l:l));else this.minutes=[];return o},setDefaultBranch:function(area){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.currentHour&&null!=e.currentMinute){t.next=2;break}return t.abrupt("return",e.$toast.error(e.$t("checkout.delivery_time_required")));case 2:if(r=area.branches,localStorage.setItem("default_location","area"),localStorage.setItem("default_area",JSON.stringify(area)),!(r.length>0)){t.next=20;break}if(!e.$auth.loggedIn){t.next=12;break}return n=r[0].id,t.next=10,Object(c.e)({branch_id:n,area_id:area.id});case 10:t.next=17;break;case 12:localStorage.setItem("guest_branch",JSON.parse(localStorage.getItem("default_area")).branches[0].id),localStorage.setItem("guest_area_id",JSON.parse(localStorage.getItem("default_area")).id),localStorage.setItem("guest_city_id",JSON.parse(localStorage.getItem("default_area")).branches[0].city_id),localStorage.setItem("guest_area_name",JSON.parse(localStorage.getItem("default_area")).name),localStorage.setItem("guest_city_name","Kuwait");case 17:e.$router.replace(e.localePath("/categories")),t.next=21;break;case 20:e.$toast.error(e.$t("location.no_branches"));case 21:e.$store.dispatch("cart/get",{branch:r[0]});case 22:case"end":return t.stop()}}),t)})))()}},watch:{currentDay:function(e,t){null!==e&&(this.isDateTodayWithoutYear(e)?this.hours=this.getHoursToEndOfDay(!1):(this.hours=this.getHoursToEndOfDay(!0),this.currentHour=8))},toggle:function(e,t){"deliver_now"==e?this.addDaysToDate(new Date,1):"pre_order"==e&&(this.addDaysToDate(new Date,365),this.days.splice(0,1))}},mounted:function(){this.addDaysToDate(new Date,1),this.getAreas()}},d=(r(826),r(6)),component=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("v-row",{staticClass:"py-5",attrs:{"no-gutters":""}},[t("v-col",{staticClass:"py-0 px-0 mx-0 my-0"},[t("p",{staticClass:"font-weight-bold mb-2",staticStyle:{color:"#65382c","font-size":"20px"}},[e._v(e._s(e.$t("common.choose_service")))]),e._v(" "),t("v-row",{staticClass:"justify-center align-center py-2",attrs:{"no-gutters":""}},[t("v-btn-toggle",{staticClass:"rounded-lg py-0",attrs:{dense:"","active-class":"isPicked"},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[t("v-btn",{staticClass:"py-0",attrs:{plain:"",value:"deliver_now"},on:{click:function(t){return e.isToggle("pre_order")}}},[e._v("\n          Deliver Now\n        ")]),e._v(" "),t("v-btn",{attrs:{plain:"",value:"pre_order"},on:{click:function(t){return e.isToggle("deliver_now")}}},[e._v("\n          Pre Order\n        ")])],1)],1),e._v(" "),t("v-row",{staticClass:"align-center justify-center w-75",attrs:{"no-gutters":""}},[t("scroll-picker-group",{staticClass:"flex font-weight-bold",staticStyle:{color:"#65382c"}},[t("scroll-picker",{attrs:{options:e.days},model:{value:e.currentDay,callback:function(t){e.currentDay=t},expression:"currentDay"}}),e._v(" "),t("scroll-picker",{attrs:{options:e.hours},model:{value:e.currentHour,callback:function(t){e.currentHour=t},expression:"currentHour"}}),e._v(" "),t("scroll-picker",{attrs:{options:e.minutes},model:{value:e.currentMinute,callback:function(t){e.currentMinute=t},expression:"currentMinute"}}),e._v(" "),t("scroll-picker",{attrs:{options:["AM","PM"]},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}})],1)],1),e._v(" "),t("v-col",{staticClass:"mt-1 px-0",attrs:{cols:"12"}},[t("v-text-field",{staticStyle:{"border-radius":"12px"},attrs:{"hide-details":"",clearable:"",flat:"",solo:"",placeholder:e.$t("common.areas.search_placeholder"),color:"#65382c","background-color":"#ededed",dense:"","prepend-inner-icon":"mdi-map-marker",height:"50"},on:{input:function(t){return e.search()}},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}})],1),e._v(" "),t("v-col",{staticClass:"mx-0 mt-2 px-0 py-0"},e._l(e.filteredAreas,(function(area,r){return t("v-card",{key:area.id,staticClass:"py-2 px-2 d-flex flex-row align-center justify-space-between rounded-0",staticStyle:{"border-bottom":"1px solid gray"},attrs:{width:"100%",height:"40px"},on:{click:function(t){return e.setDefaultBranch(area)}}},[t("p",{staticClass:"mb-0",staticStyle:{color:"#65382c"}},[e._v("\n            "+e._s(area["name_".concat(e.$i18n.locale)])+"\n          ")]),e._v(" "),t("v-icon",[e._v("\n            mdi-chevron-down\n          ")])],1)})),1)],1)],1)}),[],!1,null,"332fb5de",null);t.default=component.exports}}]);