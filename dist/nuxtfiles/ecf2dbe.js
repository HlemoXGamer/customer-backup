(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{760:function(e,t,r){var content=r(780);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(2).default)("1313dc17",content,!0,{sourceMap:!1})},779:function(e,t,r){"use strict";r(760)},780:function(e,t,r){var n=r(1)((function(i){return i[1]}));n.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Readex+Pro&display=swap);"]),n.push([e.i,".v-card__actions>.rounded-lg[data-v-7847dcd8]{background:#65382c!important;padding:0 5rem}.v-card__actions>.to-payment[data-v-7847dcd8]{padding:0 1rem!important}",""]),n.locals={},e.exports=n},818:function(e,t,r){"use strict";r.r(t);r(29),r(15),r(47),r(22),r(25),r(21),r(26);var n=r(7),l=r(6),o=(r(40),r(16),r(125),r(328),r(34),r(75),r(9),r(33),r(36),r(751)),d=r(732),c=r(55),h=r(731),m=r(775),f=r.n(m),_=r(776),v=r.n(_),$=r(777),y=r.n($),x=r(778),w=r.n(x),k=r(211);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function A(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var C=k.helpers.regex("serial",/^([5694]\d{7})$/g),S=k.helpers.regex("serial",/^[1-9]\d{0,9}$/),P={layout:"checkout",components:{OrderSummary:o.default,ShippingIcon:f.a,PaymentIcon:v.a,SecurityIcon:y.a,OfficeIcon:w.a},mounted:function(){var e=this;localStorage.removeItem("shipping_address"),Object(d.a)().then((function(t){var data=t.data;e.areas=e.sortAreas(data,e.$i18n.locale,"name_".concat(e.$i18n.locale))}))},props:{theAddress:Array,center:Object},data:function(){return{showAddMessage:!1,location_type:null,cityErrorMessages:[],currentArea:null,local:{address:{country_name:"Kuwait",address:"",city_id:null,area_id:null,city_name:"Kuwait",area_name:"x",building_num:"",block_no:"",street_name:"",floor:"",apartment:"",description:"",phone:"",branch_id:3,name:"",email:"",lat:0,lng:0}},areas:[],city:""}},computed:A(A({},Object(c.b)("checkout",["form.address_id","form.user_data.address.address","form.is_pickup","loading"])),{},{phone_placeholder:function(){return this.$t("profile.addresses.phone_placeholder")},currentLocale:function(){return this.$i18n.locale}}),methods:{getDefaultLocation:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$auth.loggedIn){t.next=9;break}return t.next=3,Object(h.c)();case 3:r=t.sent,n=r.type,data=r.data,"area"===n?(e.location_type="area",e.local.address=A(A({},e.local.address),data)):"address"===n&&(e.location_type="address",e.local.address=A(A({},data),{},{address_info:e.transformAddress(data)})),t.next=14;break;case 9:e.location_type="area",e.local.address.area_id=JSON.parse(localStorage.getItem("guest_area_id")),e.local.address.area_name=localStorage.getItem("guest_area_name"),e.local.address.city_id=JSON.parse(localStorage.getItem("guest_city_id")),e.local.address.city_name=localStorage.getItem("guest_city_name");case 14:case"end":return t.stop()}}),t)})))()},checkPhone:function(e){var t=e.isValid;this.phoneValid=t},showShopping:function(){null!==this.currentArea&&(this.local.address.area_id=this.currentArea.id,this.local.address.city_id=this.currentArea.city_id);var e=!0;if((!this.$auth.loggedIn||this.$auth.loggedIn&&"address"!==this.location_type)&&(this.$v.$touch(),e=e&&!this.$v.$invalid),e){if(!this.currentArea)return this.$toast.error(this.$t("checkout.shipping.choose_area"));this.local.address.area_name=this.currentArea.name_en,this.local.address.address=this.transformAddress(this.local.address),localStorage.setItem("shipping_address",JSON.stringify(this.local.address)),this.$emit("address-updated",this.currentArea)}},transformAddress:function(address){var e=[];return address.street_name&&e.push(this.$t("profile.addresses.street_name")+" "+address.street_name),address.floor&&e.push(this.$t("profile.addresses.floor")+" "+address.floor),address.apartment&&e.push(this.$t("profile.addresses.apartment_no")+" "+address.apartment),address.block_no&&e.push(this.$t("profile.addresses.block_no")+" "+address.block_no),address.building_no&&e.push(this.$t("profile.addresses.building_number")+" "+address.building_no),e.join(", ")},sortAreas:function(e,t,r){return e.sort((function(a,b){return a[r].localeCompare(b[r],t)}))}},watch:{currentLocale:function(e,t){this.areas=this.sortAreas(this.areas,e,"name_".concat(e))},theAddress:function(e){var t=this;this.local.address.country_name=e[e.length-2],this.local.address.street_name=e.slice(0,-2).join(" "),this.local.address.area_name=e[e.length-2];var r=this.areas.find((function(area){return area.name_en.includes(t.local.address.area_name.slice(0,-1).toUpperCase())}));r?(this.$toast.success("Area implemented."),this.city=r,this.center?(this.lat=this.center.lat,this.lng=this.center.lng):this.$toast.error("Please Put Your Address on the map")):this.$toast.error("Area not found.")}},validations:function(){return{currentArea:{required:k.helpers.withParams({lang:this.$i18n.locale},k.required)},local:{address:{description:{string:k.helpers.withParams({lang:this.$i18n.locale},(function(e){return"string"==typeof e}))},city_id:{required:k.helpers.withParams({lang:this.$i18n.locale},k.required)},area_id:{required:k.helpers.withParams({lang:this.$i18n.locale},k.required)},building_num:{numeric:k.helpers.withParams({lang:this.$i18n.locale},k.numeric),required:k.helpers.withParams({lang:this.$i18n.locale},k.required),building_number_validator:S},block_no:{required:k.helpers.withParams({lang:this.$i18n.locale},k.required)},street_name:{required:k.helpers.withParams({lang:this.$i18n.locale},k.required)},floor:{numeric:k.helpers.withParams({lang:this.$i18n.locale},k.numeric),required:k.helpers.withParams({lang:this.$i18n.locale},k.required)},apartment:{numeric:k.helpers.withParams({lang:this.$i18n.locale},k.numeric),required:k.helpers.withParams({lang:this.$i18n.locale},k.required)},name:{required:Object(k.requiredIf)((function(){return!this.$auth.loggedIn}))},email:{required:Object(k.requiredIf)((function(){return!this.$auth.loggedIn})),email:k.email},phone:{required:k.helpers.withParams({lang:this.$i18n.locale},k.required),phone_number:C}}}}}},j=(r(779),r(8)),component=Object(j.a)(P,(function(){var e=this,t=e._self._c;return t("div",[t("p",{staticClass:"text-h6 font-weight-bold mt-8 font-primary",class:{"text-center":e.$vuetify.breakpoint.smAndDown}},[e._v("\n    "+e._s(e.$t("checkout.shipping.shipping_label"))+"\n  ")]),e._v(" "),t("v-card",[t("v-row",[t("v-col",{attrs:{cols:e.$vuetify.breakpoint.mobile?12:10}},[t("v-card",[t("v-card-text",[t("p",{staticClass:"text-subtitle-1 font-weight-bold mb-2 font-primary"},[e._v("\n              "+e._s(e.$t("profile.addresses.area"))+" "),t("Sup",[e._v("*")])],1),e._v(" "),t("v-combobox",{staticClass:"rounded-lg",attrs:{items:e.areas,loading:e.loading.city,"item-text":"name_".concat(e.$i18n.locale),"item-value":"id",height:"57",outlined:"",flat:"","error-messages":e.$validationMsgs(e.$v.currentArea),color:"#65382c"},on:{input:function(t){return e.$v.currentArea.$touch()}},model:{value:e.currentArea,callback:function(t){e.currentArea=t},expression:"currentArea"}}),e._v(" "),t("p",{staticClass:"text-subtitle-1 font-weight-bold mb-2 font-primary"},[e._v("\n              "+e._s(e.$t("profile.addresses.block_no"))+" "),t("Sup",[e._v("*")])],1),e._v(" "),t("v-text-field",{staticClass:"rounded-lg",attrs:{outlined:"",flat:"",height:"57","error-messages":e.$validationMsgs(e.$v.local.address.block_no),color:"#65382c"},on:{input:function(t){return e.$v.local.address.block_no.$touch()}},model:{value:e.local.address.block_no,callback:function(t){e.$set(e.local.address,"block_no",t)},expression:"local.address.block_no"}}),e._v(" "),this.$auth.loggedIn?e._e():t("p",{staticClass:"text-subtitle-1 font-weight-bold mb-2 font-primary"},[e._v("\n              "+e._s("Full Name")+" "),t("Sup",[e._v("*")])],1),e._v(" "),this.$auth.loggedIn?e._e():t("v-text-field",{staticClass:"rounded-lg",attrs:{outlined:"",flat:"",height:"57","error-messages":e.$validationMsgs(e.$v.local.address.name),color:"#65382c"},on:{input:function(t){return e.$v.local.address.name.$touch()}},model:{value:e.local.address.name,callback:function(t){e.$set(e.local.address,"name",t)},expression:"local.address.name"}}),e._v(" "),this.$auth.loggedIn?e._e():t("p",{staticClass:"text-subtitle-1 font-weight-bold mb-2 font-primary"},[e._v("\n              "+e._s("Email")+" "),t("Sup",[e._v("*")])],1),e._v(" "),this.$auth.loggedIn?e._e():t("v-text-field",{staticClass:"rounded-lg",attrs:{outlined:"",flat:"",height:"57",type:"email","error-messages":e.$validationMsgs(e.$v.local.address.email),color:"#65382c"},on:{input:function(t){return e.$v.local.address.email.$touch()}},model:{value:e.local.address.email,callback:function(t){e.$set(e.local.address,"email",t)},expression:"local.address.email"}}),e._v(" "),t("p",{staticClass:"text-subtitle-1 font-weight-bold mb-2 font-primary"},[e._v("\n              "+e._s(e.$t("profile.addresses.street_name"))),t("Sup",[e._v("*")])],1),e._v(" "),t("v-text-field",{staticClass:"rounded-lg",attrs:{outlined:"",flat:"",height:"57","error-messages":e.$validationMsgs(e.$v.local.address.street_name),color:"#65382c"},on:{input:function(t){return e.$v.local.address.street_name.$touch()}},model:{value:e.local.address.street_name,callback:function(t){e.$set(e.local.address,"street_name",t)},expression:"local.address.street_name"}}),e._v(" "),t("p",{staticClass:"text-subtitle-1 font-weight-bold mb-2 font-primary"},[e._v("\n              "+e._s(e.$t("profile.addresses.building_number"))+" "),t("Sup",[e._v("*")])],1),e._v(" "),t("v-text-field",{staticClass:"rounded-lg",attrs:{outlined:"",flat:"",height:"57","error-messages":e.$validationMsgs(e.$v.local.address.building_num),color:"#65382c"},on:{input:function(t){return e.$v.local.address.building_num.$touch()}},model:{value:e.local.address.building_num,callback:function(t){e.$set(e.local.address,"building_num",t)},expression:"local.address.building_num"}}),e._v(" "),t("p",{staticClass:"text-subtitle-1 font-weight-bold mb-2 font-primary"},[e._v("\n              "+e._s(e.$t("profile.addresses.floor"))+" "),t("Sup",[e._v("*")])],1),e._v(" "),t("v-text-field",{staticClass:"rounded-lg",attrs:{outlined:"",flat:"",height:"57","error-messages":e.$validationMsgs(e.$v.local.address.floor),color:"#65382c"},on:{input:function(t){return e.$v.local.address.floor.$touch()}},model:{value:e.local.address.floor,callback:function(t){e.$set(e.local.address,"floor",t)},expression:"local.address.floor"}}),e._v(" "),t("p",{staticClass:"text-subtitle-1 font-weight-bold mb-2 font-primary"},[e._v("\n              "+e._s(e.$t("profile.addresses.apartment_no"))+" "),t("Sup",[e._v("*")])],1),e._v(" "),t("v-text-field",{staticClass:"rounded-lg",attrs:{outlined:"",flat:"",height:"57","error-messages":e.$validationMsgs(e.$v.local.address.apartment),color:"#65382c"},on:{input:function(t){return e.$v.local.address.apartment.$touch()}},model:{value:e.local.address.apartment,callback:function(t){e.$set(e.local.address,"apartment",t)},expression:"local.address.apartment"}}),e._v(" "),t("p",{staticClass:"text-subtitle-1 font-weight-bold mb-2 font-primary"},[e._v("\n              "+e._s(e.$t("profile.addresses.additional_info"))+"\n            ")]),e._v(" "),t("v-text-field",{staticClass:"rounded-lg",attrs:{outlined:"",flat:"",height:"57","error-messages":e.$validationMsgs(e.$v.local.address.description),color:"#65382c"},on:{input:function(t){return e.$v.local.address.description.$touch()}},model:{value:e.local.address.description,callback:function(t){e.$set(e.local.address,"description",t)},expression:"local.address.description"}}),e._v(" "),t("p",{staticClass:"text-subtitle-1 font-weight-bold mb-2 font-primary"},[e._v("\n              "+e._s(e.$t("profile.addresses.phone"))+"\n            ")]),e._v(" "),t("div",{staticClass:"d-flex align-start"},[t("div",{staticClass:"country-container",staticStyle:{"max-height":"56px","line-height":"66px"}},[t("img",{attrs:{width:"20",height:"20",src:"https://img.icons8.com/color/48/null/kuwait.png"}})]),e._v(" "),t("div",{staticStyle:{width:"100%"}},[t("v-text-field",{staticClass:"rounded-lg ms-2",attrs:{dir:"ltr",outlined:"",flat:"",height:"55","error-messages":e.$validationMsgs(e.$v.local.address.phone),label:"",placeholder:e.phone_placeholder,color:"#65382c"},on:{input:function(t){return e.$v.local.address.phone.$touch()}},model:{value:e.local.address.phone,callback:function(t){e.$set(e.local.address,"phone",t)},expression:"local.address.phone"}})],1)])],1)],1)],1)],1),e._v(" "),t("v-card-actions",{staticClass:"justify-space-between px-0"},[e.$vuetify.breakpoint.mobile?e._e():t("v-btn",{staticStyle:{visibility:"hidden"},attrs:{nuxt:"",to:"/cart",elevation:"0",text:"",color:"grey",large:"",dark:""}},[t("v-icon",{attrs:{left:"en"===e.$i18n.locale,right:"ar"===e.$i18n.locale,large:""}},[e._v("\n          mdi-chevron-"+e._s("en"===e.$i18n.locale?"left":"right")+"\n        ")]),e._v("\n        "+e._s(e.$t("checkout.shipping.back"))+"\n      ")],1),e._v(" "),t("v-btn",{staticClass:"rounded-lg to-payment",style:{flex:e.$vuetify.breakpoint.mobile?1:.7},attrs:{loading:e.loading,"x-large":"",height:"57",color:"dark",elevation:"0",dark:"",block:e.$vuetify.breakpoint.xs},on:{click:e.showShopping}},[e._v("\n        "+e._s(e.$t("checkout.shipping.continue"))+"\n      ")])],1)],1)],1)}),[],!1,null,"7847dcd8",null);t.default=component.exports}}]);